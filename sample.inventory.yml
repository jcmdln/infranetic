# SPDX-License-Identifier: ISC
#
# This inventory file is an example intended for use with Vagrant, though
# serves as an example of how this playbook might be used against remote hosts
# such as those deployed using Terraform.
---
# The 'mgmt' group reflects the hosts that should be configured to run all
# services such as Consul, Fabio, Nomad, and Vault. While best-practice is to
# run these services separately for resiliency, we hyper-converge them to make
# it easier to reason about their interactions and limit the hardware
# requirements of deploying locally.
mgmt:
  hosts:
    infranetic-mgmt[1:3]:
  vars:
    ansible_ssh_extra_args: "-o StrictHostKeyChecking=no"
    ansible_ssh_pass: infranetic
    ansible_ssh_private_key_file: >-
      {{ lookup('env','PWD') }}/.vagrant/machines/{{-
      inventory_hostname -}}/libvirt/private_key
    ansible_user: infranetic
